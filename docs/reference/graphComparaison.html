<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fonction produisant un graphique comparant, pour une année donnée, les valeurs par département d'un indicateur d'aide sociale — graphComparaison • asdep</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Fonction produisant un graphique comparant, pour une année donnée, les valeurs par département d'un indicateur d'aide sociale — graphComparaison" />
<meta property="og:description" content="Cette fonction sert à produire un graphique (au format ggplot2 ou plotly) représentant l'évolution au cours du temps d'un indicateur pour un département de référence, et un territoire de comparaisons (par exemple : la France entière, la région du département de référence, un groupe de département).
Le tableau sous-jacent peut également être récupéré avec l'option typesortie = &quot;tab&quot;.
Les options permettent d'ajouter sur le graphique une représentation des diverses zones : zone interquartile (&quot;interquartiles&quot;), zone interdécile (&quot;interdeciles&quot;), zone correspondant à la médiane +/- 10 ou 20 % (&quot;medianePM10&quot; et &quot;medianePM20&quot;) ..." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">asdep</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.0.0006</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/comment-utiliser-asdep.html">comment-utiliser-asdep</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/patrickaubert/asdep/">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fonction produisant un graphique comparant, pour une année donnée, les valeurs par département d'un indicateur d'aide sociale</h1>
    
    <div class="hidden name"><code>graphComparaison.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Cette fonction sert à produire un graphique (au format ggplot2 ou plotly) représentant l'évolution au cours du temps d'un indicateur pour un département de référence, et un territoire de comparaisons (par exemple : la France entière, la région du département de référence, un groupe de département).
Le tableau sous-jacent peut également être récupéré avec l'option typesortie = "tab".
Les options permettent d'ajouter sur le graphique une représentation des diverses zones : zone interquartile ("interquartiles"), zone interdécile ("interdeciles"), zone correspondant à la médiane +/- 10 ou 20 % ("medianePM10" et "medianePM20") ...</p>
    </div>

    <pre class="usage"><span class='fu'>graphComparaison</span><span class='op'>(</span>
  <span class='va'>nomvariable</span>,
  denom <span class='op'>=</span> <span class='st'>""</span>,
  annee <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>ASDEPsl</span><span class='op'>[</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>ASDEPsl</span><span class='op'>[</span>, <span class='va'>nomvariable</span><span class='op'>]</span><span class='op'>)</span>, <span class='st'>"Annee"</span><span class='op'>]</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>,
  options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>)</span>,
  poidsobs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>)</span>,
  <span class='va'>dept</span>,
  comp <span class='op'>=</span> <span class='st'>"TOTAL estimé France entière (hors Mayotte)"</span>,
  gpecomp <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>)</span>,
  typesortie <span class='op'>=</span> <span class='st'>"graph"</span>,
  donnees <span class='op'>=</span> <span class='va'>ASDEPsl</span>,
  variables <span class='op'>=</span> <span class='va'>ASDEPsl_description</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>nomvariable</th>
      <td><p>le nom de la variable, parmi celles de la table ASDEPsl</p></td>
    </tr>
    <tr>
      <th>denom</th>
      <td><p>le nom d'une variable à utiliser au dénominateur de l'indicateur (si absent la variable est utilisée brute)</p></td>
    </tr>
    <tr>
      <th>annee</th>
      <td><p>l'année de référence pour le calcul de l'indicateur (par défaut, l'année la plus récente pour laquelle l'indicateur 'nomvariable' est connu)</p></td>
    </tr>
    <tr>
      <th>options</th>
      <td><p>un vecteur d'options du calcul (valeurs en euros courant ou constant, mensuels ou annuels, etc.) et d'options de représentation (représenter les zones interdécile, interquartile, médiane +/- 10 %, etc)</p></td>
    </tr>
    <tr>
      <th>poidsobs</th>
      <td><p>une variable de pondération (par exemple si on souhaite calculer des quantiles pondérés par la population des départements). Par défaut, si denom est renseigné, cette variable denom est utilisée comme poidsobs</p></td>
    </tr>
    <tr>
      <th>dept</th>
      <td><p>le nom du département qu'on souhaite représenter</p></td>
    </tr>
    <tr>
      <th>comp</th>
      <td><p>le nom du territoire qu'on souhaite représenter en comparaison (par défaut, "TOTAL estimé France entière (hors Mayotte)")</p></td>
    </tr>
    <tr>
      <th>gpecomp</th>
      <td><p>un vecteur de noms de départements : leur ensemble constituera le "groupe de comparaison"</p></td>
    </tr>
    <tr>
      <th>typesortie</th>
      <td><p>détermine l'objet en sortie de la fonction : un graphique si l'option "graph" est retenue (option par défaut), une table de donnée (data frame) si l'option "tab" est retenue. Les options "tabcomplet" (une liste de tables) et "graphdyn" (un graphique Plotly) sont également disponibles</p></td>
    </tr>
    <tr>
      <th>donnees</th>
      <td><p>la table de données en entrée (par défaut, la table ASDEPsl)</p></td>
    </tr>
    <tr>
      <th>variables</th>
      <td><p>la table de métadonnées de la table de données en entrée (par défaut, la table ASDEPsl_description)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>un graphique (format ggplot ou plotly), ou éventuellement un tableau (selon les options retenues)</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>graphComparaison</span><span class='op'>(</span>nomvariable<span class='op'>=</span><span class='st'>"NbBenefAPA"</span>,dept<span class='op'>=</span><span class='st'>"Vosges"</span>,comp<span class='op'>=</span><span class='st'>"Grand Est"</span>,typesortie<span class='op'>=</span><span class='st'>"tab"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in tabs$var %&gt;% filter(Annee == annee): impossible de trouver la fonction "%&gt;%"</span></div><div class='input'><span class='fu'>graphComparaison</span><span class='op'>(</span>nomvariable<span class='op'>=</span><span class='st'>"NbBenefAPA"</span>,denom<span class='op'>=</span><span class='st'>"pop.60.99"</span>,dept<span class='op'>=</span><span class='st'>"Vosges"</span>,comp<span class='op'>=</span><span class='st'>"Grand Est"</span>,options<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"interquartiles"</span>,<span class='st'>"interdeciles"</span>,<span class='st'>"medianePM10"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in tabs$var %&gt;% filter(Annee == annee): impossible de trouver la fonction "%&gt;%"</span></div><div class='input'><span class='fu'>graphComparaison</span><span class='op'>(</span>nomvariable<span class='op'>=</span><span class='st'>"NbBenefAPA"</span>,denom<span class='op'>=</span><span class='st'>"pop.60.99"</span>,dept<span class='op'>=</span><span class='st'>"Vosges"</span>,gpecomp<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Meuse"</span>,<span class='st'>"Moselle"</span><span class='op'>)</span>,options<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"medianePM10"</span>,<span class='st'>"medianePM20"</span><span class='op'>)</span>,typesortie<span class='op'>=</span><span class='st'>"graphdyn"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in donneesloc %&gt;% filter(Territoire %in% gpeDpt): impossible de trouver la fonction "%&gt;%"</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://sites.google.com/site/patrickauber/'>Patrick Aubert</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


